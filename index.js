import{get as getCookie,set as setCookie,del as delCookie}from"xl_cookie";window.sessionStorage;export const set=(attr,data,timeOut=-1)=>{-1!==timeOut&&(timeOut=(new Date).getTime()+1e3*timeOut),data=data?JSON.stringify({data:data,timeOut:timeOut}):null,sessionStorage.setItem(attr,data)};export const get=attr=>{let data=sessionStorage.getItem(attr);if(null==data||""==data)return null;return data=JSON.parse(data),(new Date).getTime()>data.timeOut&&-1!==data.timeOut?null:data.data};export const remove=attr=>{sessionStorage.removeItem(attr)};export const clear=()=>{sessionStorage.clear()};function Session(prefixName){this.prefixName=prefixName;let list=get(this.prefixName);this.list=list||{},this.refresh()}Session.prototype={refresh:function(){set(this.prefixName,this.list)},get:function(attr){return get(`${this.prefixName}_${attr}`)},set:function(attr,data,timeOut=-1){attr=`${this.prefixName}_${attr}`,set(attr,data,timeOut),this.list[attr]=1,this.refresh()},remove:function(attr){attr=`${this.prefixName}_${attr}`,remove(attr),delete this.list[attr],this.refresh()},clear:function(){Object.keys(this.list).forEach(item=>{remove(item)}),this.list={},this.refresh()}};export default Session;